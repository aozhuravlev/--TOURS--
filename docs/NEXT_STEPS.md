# План дальнейших действий

## Статус: MVP готов

Система полностью функциональна для локального использования:
- Генерация Stories с Ken Burns эффектом
- Генерация Posts
- Anti-repeat система
- История публикаций

---

## Приоритет 1: Подготовка к продакшену

### 1.1. Наполнение медиа-контентом

**Фото (цель: 500+ штук)**

| Категория | Папка | Минимум фото |
|-----------|-------|--------------|
| Горная Аджария | `mountain_adjara/` или `Горная Аджария/` | 50 |
| Архитектура | `architecture/` или `Архитектура/` | 50 |
| Кухня | `cuisine/` или `Кухня/` | 50 |
| Природа | `nature/` или `Природа/` | 50 |
| Транспорт | `transport/` или `Транспорт/` | 30 |
| Пляжи | `beaches/` или `Пляжи/` | 40 |
| ... | ... | ... |

Требования к фото:
- Минимум 1080px по ширине
- Вертикальные (9:16) предпочтительнее
- JPEG качество 85%+

**Музыка (цель: 30-50 треков)**

```
media/music/
├── traditional/     # Народные мелодии
├── modern/          # Современная грузинская
└── instrumental/    # Инструментальная
```

Требования:
- Длительность: 15-30 секунд
- Формат: MP3, 256 kbps+
- Плавные fade in/out
- Royalty-free

### 1.2. Настройка Telegram-бота

1. Создать бота через @BotFather
2. Получить токен
3. Узнать chat_id модератора (отправить боту сообщение, посмотреть в API)
4. Добавить в `.env`:
   ```
   TELEGRAM_BOT_TOKEN=123456:ABC...
   TELEGRAM_MODERATOR_CHAT_ID=123456789
   ```

### 1.3. Настройка Instagram API

1. Создать Facebook Developer App
2. Подключить Instagram Business Account
3. Получить Long-Lived Access Token
4. Добавить в `.env`:
   ```
   INSTAGRAM_BUSINESS_ACCOUNT_ID=17841400000000000
   INSTAGRAM_ACCESS_TOKEN=EAAxx...
   FACEBOOK_PAGE_ID=123456789
   ```

### 1.4. Хостинг для видео

Instagram API требует публичные URL для видео. Варианты:

| Вариант | Плюсы | Минусы |
|---------|-------|--------|
| AWS S3 | Надёжно, быстро | Платно |
| Cloudflare R2 | Бесплатный egress | Нужна настройка |
| Собственный сервер | Контроль | Нужен сервер |
| Telegram как CDN | Бесплатно | Костыль |

---

## Приоритет 2: Деплой

### 2.1. Сервер

Минимальные требования:
- 1 CPU, 2GB RAM
- 20GB SSD (для медиа)
- Ubuntu 22.04

Рекомендации:
- VPS от Hetzner, DigitalOcean, или аналоги
- ~$5-10/месяц

### 2.2. Docker

```dockerfile
FROM python:3.11-slim

RUN apt-get update && apt-get install -y ffmpeg

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["python", "main.py", "run"]
```

### 2.3. Systemd сервис (альтернатива Docker)

```ini
[Unit]
Description=tours.batumi Instagram Bot
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/opt/tours-batumi
ExecStart=/opt/tours-batumi/venv/bin/python main.py run
Restart=always

[Install]
WantedBy=multi-user.target
```

---

## Приоритет 3: Мониторинг

### 3.1. Логирование

Текущее: файл `logs/app.log`

Улучшение: отправка критических ошибок в Telegram модератору.

### 3.2. Алерты

Добавить уведомления при:
- Ошибке генерации
- Ошибке публикации
- Исчерпании пула фото/музыки
- Истечении токена Instagram

---

## Приоритет 4: Улучшения (Phase 2)

### 4.1. Reels

- Слайдшоу из нескольких фото
- Crossfade переходы
- Субтитры

### 4.2. Аналитика

- Трекинг охвата и вовлечённости
- A/B тестирование времени публикации
- Отчёты в Telegram

### 4.3. Английская версия

- Отдельный канал
- Промты на английском
- Перевод через API

---

## Чеклист перед запуском

- [ ] 500+ фото по категориям
- [ ] 30+ музыкальных треков
- [ ] Telegram бот настроен и работает
- [ ] Instagram API токен получен
- [ ] Хостинг для видео настроен
- [ ] Сервер развёрнут
- [ ] Тестовая публикация успешна
- [ ] Мониторинг настроен

---

*Документ создан: 2026-01-12*
