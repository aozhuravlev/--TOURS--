# Instagram Content Formats Guide

Технические рекомендации по подготовке медиа-контента для Instagram.

---

## 1. Stories

### Технические требования

| Параметр | Значение |
|----------|----------|
| Соотношение сторон | **9:16** (вертикальное) |
| Разрешение | **1080 × 1920 px** (рекомендуется) |
| Мин. разрешение | 720 × 1280 px |
| Формат видео | MP4, MOV |
| Кодек видео | H.264 |
| Кодек аудио | AAC, 44.1 kHz |
| Длительность | **до 60 секунд** (разбивается на сегменты по 15 сек) |
| Макс. размер файла | 250 MB |
| Битрейт видео | 3500–5000 kbps (рекомендуется) |

### Safe Zones (безопасные зоны)

```
┌─────────────────────────┐
│  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │ ← 250px сверху (имя аккаунта, время)
│                         │
│                         │
│    БЕЗОПАСНАЯ ЗОНА      │
│    для основного        │
│    контента             │
│                         │
│                         │
│  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │ ← 340px снизу (CTA, свайп, ответы)
└─────────────────────────┘
```

**Важно:** Не размещайте важный контент (текст, лица, объекты) в верхних 250px и нижних 340px кадра — они перекрываются UI Instagram.

### Рекомендации по контенту

- **Длительность для нашего проекта:** 15–30 секунд (длина музыкального трека)
- **Текст:** Не более 100 символов (читаемость за 3-5 секунд)
- **Шрифт:** Минимум 24px для читаемости на мобильных
- **Музыка:** Выбирать яркий фрагмент (припев, характерный мотив)

### FFmpeg команда для создания Story

```bash
# Базовая: фото + музыка → видео 15 сек
ffmpeg -loop 1 -i photo.jpg -i music.mp3 \
  -vf "scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2:black" \
  -c:v libx264 -preset slow -crf 18 \
  -c:a aac -b:a 192k \
  -t 15 -pix_fmt yuv420p \
  output_story.mp4
```

```bash
# С Ken Burns эффектом (медленный зум)
ffmpeg -loop 1 -i photo.jpg -i music.mp3 \
  -vf "scale=8000:-1,zoompan=z='min(zoom+0.0015,1.5)':x='iw/2-(iw/zoom/2)':y='ih/2-(ih/zoom/2)':d=450:s=1080x1920" \
  -c:v libx264 -preset slow -crf 18 \
  -c:a aac -b:a 192k \
  -t 15 -pix_fmt yuv420p \
  output_story_zoom.mp4
```

---

## 2. Feed Posts (Посты в ленте)

### Технические требования

| Параметр | Квадрат | Портрет | Пейзаж |
|----------|---------|---------|--------|
| Соотношение | **1:1** | **4:5** | **1.91:1** |
| Разрешение | 1080 × 1080 | 1080 × 1350 | 1080 × 566 |

**Рекомендация для нашего проекта:** Формат **4:5** (портрет) — занимает больше места в ленте, привлекает внимание.

| Параметр | Значение |
|----------|----------|
| Формат изображения | JPEG, PNG |
| Макс. размер файла | 30 MB |
| Качество JPEG | 85–95% |
| Цветовой профиль | sRGB |

### Рекомендации по контенту

- **Текст на фото:** Не более 20% площади изображения (иначе снижается охват)
- **Caption (подпись):** До 2200 символов, но оптимально 125–150 для preview
- **Хештеги:** 5–15 релевантных (не больше 30)
- **Alt-текст:** Обязательно добавлять для SEO

### FFmpeg команда для подготовки фото поста

```bash
# Кроп под 4:5 (портрет)
ffmpeg -i photo.jpg \
  -vf "crop=ih*4/5:ih,scale=1080:1350" \
  -q:v 2 \
  output_post.jpg
```

---

## 3. Reels

### Технические требования

| Параметр | Значение |
|----------|----------|
| Соотношение сторон | **9:16** (вертикальное) |
| Разрешение | **1080 × 1920 px** |
| Мин. разрешение | 720 × 1280 px |
| Формат видео | MP4, MOV |
| Кодек видео | H.264 |
| Кодек аудио | AAC, 44.1 kHz |
| Длительность | **15 сек – 15 минут** (рекомендуется 15–90 сек) |
| Макс. размер файла | 4 GB |
| FPS | 30 fps (рекомендуется) |
| Битрейт видео | 5000–8000 kbps |

### Safe Zones для Reels

```
┌─────────────────────────┐
│  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │ ← 200px сверху
│                         │
│                         │
│    БЕЗОПАСНАЯ ЗОНА      │
│                         │
│                         │
│         ┌─────────┐     │
│         │ кнопки  │▒▒▒▒▒│ ← 420px справа (кнопки like, comment, share)
│         │ справа  │▒▒▒▒▒│
│         └─────────┘     │
│  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  │ ← 400px снизу (caption, музыка, username)
└─────────────────────────┘
```

**Важно:** В Reels ещё больше UI-элементов, чем в Stories. Безопасная зона уже.

### Рекомендации по контенту

- **Первые 3 секунды:** Hook (зацепка) — самый важный момент
- **Длительность:** Оптимально 15–30 сек для travel-контента
- **Музыка:** Трендовые звуки повышают охват
- **Текст:** Субтитры увеличивают время просмотра
- **Переходы:** Плавные переходы между кадрами

### FFmpeg команда для Reels из нескольких фото

```bash
# Слайдшоу из фото с переходами
ffmpeg -framerate 1/3 -pattern_type glob -i 'photos/*.jpg' \
  -i music.mp3 \
  -vf "scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,fps=30" \
  -c:v libx264 -preset slow -crf 18 \
  -c:a aac -b:a 192k \
  -t 30 -pix_fmt yuv420p \
  output_reel.mp4
```

```bash
# С crossfade переходами между фото
ffmpeg -loop 1 -t 5 -i photo1.jpg -loop 1 -t 5 -i photo2.jpg -loop 1 -t 5 -i photo3.jpg \
  -i music.mp3 \
  -filter_complex \
  "[0:v]scale=1080:1920,fade=t=out:st=4:d=1[v0]; \
   [1:v]scale=1080:1920,fade=t=in:st=0:d=1,fade=t=out:st=4:d=1[v1]; \
   [2:v]scale=1080:1920,fade=t=in:st=0:d=1[v2]; \
   [v0][v1][v2]concat=n=3:v=1:a=0[v]" \
  -map "[v]" -map 3:a \
  -c:v libx264 -preset slow -crf 18 \
  -c:a aac -b:a 192k \
  -t 15 -pix_fmt yuv420p \
  output_reel_crossfade.mp4
```

---

## 4. Подготовка исходных материалов

### Фотографии

| Критерий | Рекомендация |
|----------|--------------|
| Исходное разрешение | Минимум 2000px по меньшей стороне |
| Ориентация | Вертикальные (9:16) предпочтительнее |
| Формат хранения | JPEG 95% или PNG |
| EXIF-ориентация | Применять авто-ротацию при обработке |
| Цветокоррекция | Яркие, насыщенные цвета (travel-контент) |

```bash
# Авто-ротация по EXIF и конвертация
ffmpeg -i input.jpg -vf "transpose=1" -auto-orient output.jpg
# или через ImageMagick:
convert input.jpg -auto-orient output.jpg
```

### Музыка

| Критерий | Рекомендация |
|----------|--------------|
| Формат | MP3 или AAC |
| Битрейт | 256 kbps+ |
| Sample rate | 44.1 kHz |
| Длительность трека | 15–30 секунд (готовые клипы) |
| Fade in/out | Плавное начало и окончание |

```bash
# Вырезать фрагмент с fade in/out
ffmpeg -i full_track.mp3 -ss 30 -t 20 \
  -af "afade=t=in:st=0:d=1,afade=t=out:st=19:d=1" \
  -c:a libmp3lame -b:a 256k \
  output_clip.mp3
```

---

## 5. Чеклист подготовки медиа

### Перед добавлением фото в пул:
- [ ] Разрешение минимум 1080px по ширине
- [ ] Применена авто-ротация по EXIF
- [ ] Убраны метаданные с личной информацией
- [ ] Проверено качество (не размыто, не пересвечено)
- [ ] Присвоена категория (папка)

### Перед добавлением музыки в пул:
- [ ] Длительность 15–30 секунд
- [ ] Плавный fade in/out
- [ ] Качество 256 kbps+
- [ ] Проверена лицензия (royalty-free)
- [ ] Присвоена категория (traditional/modern/instrumental)

---

## 6. Instagram Graph API: ограничения

| Ограничение | Значение |
|-------------|----------|
| Stories в день | 100 (рекомендуется 1-3) |
| Posts в день | 25 (рекомендуется 1-2) |
| Reels в день | 25 (рекомендуется 1-2) |
| Хештегов на пост | 30 максимум |
| Caption length | 2200 символов |
| Rate limit | 200 запросов/час |

**Важно:** При превышении лимитов аккаунт может быть временно ограничен.

---

## 7. Оптимальное время публикации

Для русскоязычной аудитории (MSK):

| День | Оптимальное время |
|------|-------------------|
| Будни | 07:00–09:00, 12:00–14:00, 19:00–21:00 |
| Выходные | 10:00–12:00, 19:00–22:00 |

**Для нашего проекта:** 08:00–09:00 MSK (утреннее время, люди проверяют соцсети)

---

*Документ создан: 2026-01-12*
*Версия: 1.0*
